(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{349:function(t,e,r){var content=r(353);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(35).default)("10271c1a",content,!0,{sourceMap:!1})},350:function(t,e,r){"use strict";var n={props:{image_url:void 0,dblclik:void 0},methods:{defaultImage:function(){return r(351)},imageErrorLoading:function(){this.$refs.image.src=this.defaultImage()}},computed:{userImage:function(){return this.image_url?this.image_url:this.defaultImage()}}},o=r(12),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.dblclik&&t.$store.state.sessionStorage.loggedIn?r("img",{ref:"image",staticClass:"w-32 h-32 border rounded-full",attrs:{src:t.userImage,alt:"Profile Picture"},on:{"~error":function(e){return t.imageErrorLoading(e)},dblclick:function(e){return e.preventDefault(),t.dblclik(e)}}}):r("img",{ref:"image",staticClass:"w-32 h-32 border rounded-full",attrs:{src:t.userImage,alt:"Profile Picture"},on:{"~error":function(e){return t.imageErrorLoading(e)}}})}),[],!1,null,null,null);e.a=component.exports},351:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTUgNWE1IDUgMCAwIDEgMTAgMHYyQTUgNSAwIDAgMSA1IDdWNXpNMCAxNi42OEExOS45IDE5LjkgMCAwIDEgMTAgMTRjMy42NCAwIDcuMDYuOTcgMTAgMi42OFYyMEgwdi0zLjMyeiIvPjwvc3ZnPg=="},352:function(t,e,r){"use strict";var n=r(349);r.n(n).a},353:function(t,e,r){(e=r(34)(!1)).push([t.i,"img[data-v-6032ec1c]{cursor:default}.articleTitle[data-v-6032ec1c]{text-decoration:none;font-size:1.875rem}.articleContent[data-v-6032ec1c],.articleDescription[data-v-6032ec1c]{word-wrap:break-word}.articleContent[data-v-6032ec1c]{padding:.75rem;color:#1a202c;text-overflow:clip}.articleContent h3[data-v-6032ec1c],blockquote[data-v-6032ec1c],h4[data-v-6032ec1c],h5[data-v-6032ec1c],h6[data-v-6032ec1c],p[data-v-6032ec1c],span[data-v-6032ec1c]{font-size:1.125rem}.articleContent h1[data-v-6032ec1c]{font-size:1.5rem}.articleContent h2[data-v-6032ec1c]{font-size:1.25rem}.articleContent a[data-v-6032ec1c]{color:#718096;-webkit-text-decoration:wavy;text-decoration:wavy}.articleContent a[data-v-6032ec1c]:hover{color:#4299e1}.articleAuthor[data-v-6032ec1c]{text-decoration:none}.articleContent blockquote[data-v-6032ec1c],pre[data-v-6032ec1c]{display:inline-block;background-color:#edf2f7;font-style:oblique}.articleContent pre[data-v-6032ec1c],.articleContent pre.ql-syntax[data-v-6032ec1c]{border:1px;border-radius:1%;padding:.75rem;background-color:#23241f;color:#f8f8f2;width:100%;height:auto;border-color:unset;overflow-x:scroll;overflow-y:hidden}.articleContent iframe[data-v-6032ec1c]{width:100%;height:100%}",""]),t.exports=e},354:function(t,e,r){"use strict";r(32);var n=r(9),o=(r(50),r(123)),c=r(350),l={name:"Article",components:{Icon:o.a,ProfilePicture:c.a},props:{post:{},individualPage:Boolean,minimised:Boolean},computed:{loggedIn:function(){return this.post.author===this.$store.state.sessionStorage.loggedInUserId},toAuthor:function(){return"https://ramihikmat.net"}},methods:{like:function(){try{fetch("".concat(this.$store.state.backend,"/posts/like/").concat(this.post._id),{method:"PUT",credentials:"include"})}catch(t){return console.log(t)}this.post.likes||(this.post.likes=0),this.liked=!0,this.post.likes++},clickedIcon:function(){if(this.$store.state.sessionStorage.loggedInUserId===this.post.author)return this.$router.replace(this.loggedInEditPath)}},data:function(){return{loggedInEditPath:"/blogger/edit/".concat(this.post._id),author:void 0,date:new Date,liked:!1}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.post.postDate&&(t.date=new Date(t.post.postDate)),document.date=t.date,e.prev=2,e.next=5,fetch("".concat(t.$store.state.backend,"/users/").concat(t.post.author),{credentials:"include"});case 5:if(200!==(r=e.sent).status){e.next=10;break}return e.next=9,r.json();case 9:t.author=e.sent;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()}},d=(r(352),r(12)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"border w-full sm:flex sm:items-center min-w-full sm:flex-col mb-8"},[r("div",{staticClass:"max-w-sm w-full sm:max-w-full sm:flex flex-grow min-w-full"},[r("div",{staticClass:"border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t \n          lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal\n          min-w-full"},[r("div",{staticClass:"mb-8 content-center"},[r("div",{staticClass:"text-gray-900 font-bold text-xl mb-2 inline-flex flex-grow"},[r("nuxt-link",{staticClass:"hover:text-blue-500 articleTitle",attrs:{to:"/post/"+t.post._id}},[t._v(t._s(t.post.title))]),t._v(" "),r("div",{on:{click:function(e){return e.preventDefault(),t.clickedIcon(e)}}},[r("Icon",{staticClass:"mt-1 ml-2",attrs:{draft:t.post.draft,hidden:t.post.hidden,editable:t.loggedIn}})],1)],1),t._v(" "),t.individualPage?r("div",{staticClass:"text-gray-700 articleContent",domProps:{innerHTML:t._s(t.post.content)}},[t._v("Content goes here")]):r("p",{staticClass:"text-gray-700 articleContent",domProps:{innerHTML:t._s(t.post.description)}},[t._v("Description goes here")])]),t._v(" "),r("div",{staticClass:"flex "},[r("div",{staticClass:"w-4/10 h-auto"},[r("div",{staticClass:"flex items-center"},[t.individualPage&&t.author?r("ProfilePicture",{staticClass:"w-10 h-10 rounded-full mr-4 articleImg",attrs:{image_url:t.author.image_url}}):t._e(),t._v(" "),r("div",{staticClass:"text-sm"},[t.author?r("p",{staticClass:"text-gray-900 leading-none"},[r("a",{staticClass:"articleAuthor",attrs:{href:t.toAuthor}},[t._v("\n                                  "+t._s(t.author.name))])]):t._e(),t._v(" "),r("p",{staticClass:"text-gray-600"},[t._v(t._s(t.date.toUTCString()))])])],1)]),t._v(" "),t.individualPage?r("div",{staticClass:"w-6/10 h-12 block text-justify w-1/2 ml-10 mt-8 "},[r("p",{staticClass:"mb-4 ml-12 text-gray-900 "},[t._v("\n                          "+t._s(t.post.likes)+" Likes || \n                          "),t.individualPage&&!t.liked?r("a",{staticClass:"block mt-4 lg:inline-block lg:mt-0 text-gray-700 hover:text-blue-500 mr-4 font-bold",staticStyle:{"text-decoration":"none"},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.like(e)}}},[t._v("Like it")]):t._e()])]):r("div",{staticClass:"w-6/10 h-auto w-1/2 mb-4 ml-12 text-gray-900"},[t._v("\n                      "+t._s(t.post.likes)+" Likes\n                  ")])])])])])}),[],!1,null,"6032ec1c",null);e.a=component.exports},357:function(t,e,r){"use strict";var n={props:{posts:void 0,minimised:!1},components:{Article:r(354).a}},o=r(12),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.posts?r("div",{staticClass:"container"},t._l(t.posts,(function(e){return r("Article",{key:e._id,attrs:{post:e,individualPage:!1,minimised:t.minimised}})})),1):t._e()}),[],!1,null,null,null);e.a=component.exports},366:function(t,e,r){"use strict";r.r(e);r(33),r(32);var n=r(9),o={components:{Articles:r(357).a},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,e.next=4,fetch("".concat(t.store.state.backend,"/users/loggedIn/"),{credentials:"include"});case 4:if(200===(n=e.sent).status){e.next=9;break}t.store.commit("updateUser",{loggedIn:!1,loggedInUserId:"",loggedInUser:""}),e.next=13;break;case 9:return e.next=11,n.json();case 11:o=e.sent,t.store.commit("updateUser",{loggedIn:!0,loggedInUserId:o.id,loggedInUser:o.name});case 13:return e.next=15,fetch("".concat(t.store.state.backend,"/posts/"));case 15:return c=e.sent,e.next=18,c.json();case 18:r=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:return e.abrupt("return",{posts:r});case 25:case"end":return e.stop()}}),e,null,[[1,21]])})))()}},c=r(12),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex mb-4 mt-4"},[e("div",{staticClass:"w-1/5 h-12"}),this._v(" "),e("div",{staticClass:"w-3/5 h-12"},[e("Articles",{attrs:{posts:this.posts}})],1),this._v(" "),e("div",{staticClass:"w-1/5 h-12"})])}),[],!1,null,null,null);e.default=component.exports}}]);