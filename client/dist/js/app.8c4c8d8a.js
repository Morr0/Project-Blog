(function(e){function t(t){for(var n,o,l=t[0],i=t[1],c=t[2],d=0,p=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,l=1;l<r.length;l++){var i=r[l];0!==s[i]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"4d66":function(e,t,r){e.exports=r.p+"img/user.e6aaf430.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[r("Navbar"),r("router-view")],1)},a=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"flex items-center justify-between flex-wrap p-6 bg-gray-100 sticky"},[r("div",{staticClass:"flex items-center flex-shrink-0 text-gray-900 mr-6"},[r("Icon",{attrs:{logo:!0}}),r("span",{staticClass:"font-semibold text-2xl tracking-tight"},[r("router-link",{attrs:{to:"/"}},[e._v(e._s(this.$store.state.title))])],1)],1),r("div",{staticClass:"w-full block flex-grow sm:flex sm:flex-row-reverse sm:flex-grow-0 sm:items-center sm:w-auto"},[r("div",{staticClass:"text-lg items-end lg:flex-grow"},[r("router-link",{staticClass:"block mt-4 lg:inline-block lg:mt-0 text-gray-700 hover:text-blue-500 mr-4 font-bold",attrs:{to:"/"}},[e._v(" Home ")]),e.loggedIn?r("a",{staticClass:"block mt-4 lg:inline-block lg:mt-0 text-gray-700 hover:text-blue-500 mr-4 font-bold",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.goToAccount(t)}}},[e._v(" "+e._s(this.$store.state.loggedInUser||"Account")+" ")]):e._e(),e.loggedIn?r("router-link",{staticClass:"block text-gray-700 mt-4 lg:inline-block lg:mt-0 hover:text-blue-500 mr-4 font-bold",attrs:{to:"/blogger/create/"}},[e._v(" Create ")]):e._e(),e.loggedIn?r("router-link",{staticClass:"block mt-4 lg:inline-block lg:mt-0 text-gray-700 hover:text-blue-500 mr-4 font-bold",attrs:{to:"/blogger/logout/"}},[e._v(" Logout ")]):e._e()],1)])])},l=[],i=(r("ac1f"),r("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sm:inline-flex flex-grow"},[e.editable?n("svg",{staticClass:"bi bi-wrench fill-current w-4",attrs:{tooltip:"Hello world",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M.102 2.223A3.004 3.004 0 003.78 5.897l6.341 6.252A3.003 3.003 0 0013 16a3 3 0 10-.851-5.878L5.897 3.781A3.004 3.004 0 002.223.1l2.141 2.142L4 4l-1.757.364L.102 2.223zm13.37 9.019L13 11l-.471.242-.529.026-.287.445-.445.287-.026.529L11 13l.242.471.026.529.445.287.287.445.529.026L13 15l.471-.242.529-.026.287-.445.445-.287.026-.529L15 13l-.242-.471-.026-.529-.445-.287-.287-.445-.529-.026z","clip-rule":"evenodd"}})]):e._e(),e.draft?n("svg",{staticClass:"bi bi-pencil fill-current w-4",attrs:{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z","clip-rule":"evenodd"}}),n("path",{attrs:{"fill-rule":"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z","clip-rule":"evenodd"}})]):e._e(),e.hidden?n("svg",{staticClass:"bi bi-eye-slash-fill fill-current w-4",attrs:{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M10.79 12.912l-1.614-1.615a3.5 3.5 0 01-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 002.79-.588zM5.21 3.088A7.028 7.028 0 018 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 00-4.474-4.474L5.21 3.089z"}}),n("path",{attrs:{d:"M5.525 7.646a2.5 2.5 0 002.829 2.829l-2.83-2.829zm4.95.708l-2.829-2.83a2.5 2.5 0 012.829 2.829z"}}),n("path",{attrs:{"fill-rule":"evenodd",d:"M13.646 14.354l-12-12 .708-.708 12 12-.708.708z","clip-rule":"evenodd"}})]):e._e(),e.logo?n("img",{staticClass:"fill-current h-auto w-8 mr-2",attrs:{src:r("7935"),alt:".png",width:"64",height:"64",viewBox:"0 0 54 54",title:e.$store.state.title}}):e._e()])}),c=[],u={name:"Icon",props:{draft:!1,hidden:!1,editable:!1,logo:!1,embedded:!0}},d=u,p=(r("8c75"),r("2877")),m=Object(p["a"])(d,i,c,!1,null,"78d297a3",null),f=m.exports,h={components:{Icon:f},computed:{loggedIn:function(){return this.$store.state.loggedIn}},methods:{goToAccount:function(){this.$router.replace("/blogger/".concat(this.$store.state.loggedInUserId))}}},g=h,b=Object(p["a"])(g,o,l,!1,null,"e137ef60",null),v=b.exports,x={components:{Navbar:v}},w=x,C=Object(p["a"])(w,s,a,!1,null,null,null),k=C.exports,y=r("8c4f"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex mb-4 mt-4"},[r("div",{staticClass:"w-1/5 h-12"}),r("div",{staticClass:"w-3/5 h-12"},[r("Articles",{attrs:{posts:e.posts}})],1),r("div",{staticClass:"w-1/5 h-12"})])},I=[],$=(r("b0c0"),r("d3b7"),r("96cf"),r("1da1")),j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.posts?r("div",{staticClass:"container"},e._l(e.posts,(function(t){return r("Article",{key:t._id,attrs:{post:t,individualPage:!1,minimised:e.minimised}})})),1):e._e()},P=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border w-full sm:flex sm:items-center min-w-full sm:flex-col"},[n("div",{staticClass:"max-w-sm w-full sm:max-w-full sm:flex flex-grow min-w-full"},[n("div",{staticClass:"border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t \n          lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal\n          min-w-full"},[n("div",{staticClass:"mb-8 content-center"},[n("div",{staticClass:"text-gray-900 font-bold text-xl mb-2 inline-flex flex-grow"},[n("router-link",{staticClass:"hover:text-blue-500",attrs:{to:"/post/"+e.post._id}},[e._v(e._s(e.post.title))]),n("div",{on:{click:function(t){return t.preventDefault(),e.clickedIcon(t)}}},[n("Icon",{staticClass:"mt-1 ml-2",attrs:{draft:e.post.draft,hidden:e.post.hidden,editable:e.loggedIn}})],1)],1),e.individualPage?n("p",{staticClass:"text-gray-700 text-base",domProps:{innerHTML:e._s(e.post.content)}},[e._v("Here is the content")]):n("p",{staticClass:"text-gray-700 text-base"},[e._v(e._s(e.post.description))])]),n("div",{staticClass:"flex items-center"},[n("img",{staticClass:"w-10 h-10 rounded-full mr-4",attrs:{src:r("4d66"),alt:"Profile picture"},on:{click:function(t){return t.preventDefault(),e.toAuthor(t)}}}),n("div",{staticClass:"text-sm"},[e.author?n("p",{staticClass:"text-gray-900 leading-none"},[n("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.toAuthor(t)}}},[e._v(e._s(e.author.name))])]):e._e(),n("p",{staticClass:"text-gray-600"},[e._v(e._s(e.date.toLocaleDateString("en-au")))])])])])])])},U=[],R={name:"Article",components:{Icon:f},props:{post:{},individualPage:Boolean,minimised:Boolean},computed:{loggedIn:function(){return this.post.author===this.$store.state.loggedInUserId}},methods:{toAuthor:function(){this.$router.replace("/blogger/".concat(this.author._id))},like:function(){try{fetch("http://localhost:3400/posts/like/".concat(this.post._id),{method:"PUT"})}catch(e){return console.log(e)}this.post.likes||(this.post.likes=0),this.post.likes++},clickedIcon:function(){if(this.$store.state.loggedInUserId===this.post.author)return this.$router.replace(this.loggedInEditPath)}},data:function(){return{loggedInEditPath:"/blogger/edit/".concat(this.post._id),author:void 0,date:new Date}},mounted:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.post.updateDate&&(e.date=new Date(e.post.updateDate)),document.date=e.date,t.prev=2,t.next=5,fetch("http://localhost:3400/users/".concat(e.post.author));case 5:if(r=t.sent,200!==r.status){t.next=10;break}return t.next=9,r.json();case 9:e.author=t.sent;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))()}},A=R,E=(r("7703"),Object(p["a"])(A,O,U,!1,null,null,null)),D=E.exports,T={props:{posts:void 0,minimised:!1},components:{Article:D}},M=T,L=Object(p["a"])(M,j,P,!1,null,null,null),H=L.exports,N={name:"Home",components:{Articles:H},data:function(){return{posts:void 0}},created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3400/users/loggedIn/",{credentials:"include"});case 3:if(r=t.sent,200===r.status){t.next=8;break}e.$store.commit("updateUser",{loggedIn:!1,loggedInUserId:"",loggedInUser:""}),t.next=12;break;case 8:return t.next=10,r.json();case 10:n=t.sent,e.$store.commit("updateUser",{loggedIn:!0,loggedInUserId:n.id,loggedInUser:n.name});case 12:return t.next=14,fetch("http://localhost:3400/posts/");case 14:return s=t.sent,t.next=17,s.json();case 17:e.posts=t.sent,t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()}},S=N,z=Object(p["a"])(S,_,I,!1,null,null,null),q=z.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex mb-4 mt-4"},[r("div",{staticClass:"w-1/5 h-12"}),r("div",{staticClass:"w-3/5 h-12"},[e.post._id?r("Article",{attrs:{post:e.post,individualPage:!0}}):e._e()],1),r("div",{staticClass:"w-1/5 h-12"})])},F=[],J={name:"Post",components:{Article:D},data:function(){return{id:this.$route.params.id,post:{}}},created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3400/posts/".concat(e.id),{credentials:"include"});case 3:if(r=t.sent,200===r.status){t.next=6;break}return t.abrupt("return",e.$router.replace("/"));case 6:return t.next=8,r.json();case 8:e.post=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",e.$router.replace("/"));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},Y=J,V=Object(p["a"])(Y,B,F,!1,null,null,null),G=V.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full max-w-md mx-auto"},[r("form",{staticClass:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"username"}},[e._v(" Username ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"email",required:"",id:"username",placeholder:"Username"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[e._v(" Password ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"password",required:"",id:"password",placeholder:"******************"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("p",{staticClass:"text-red-500 text-xs italic"},[e._v("Please choose a password.")])]),r("div",{staticClass:"flex items-center justify-between"},[r("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",attrs:{type:"submit"}},[e._v(" Login ")]),r("router-link",{staticClass:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",attrs:{to:"/blogger/register/"}},[e._v(" Don't have an account ")])],1)])])},Q=[],W={name:"Login",data:function(){return{email:"",password:""}},created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.state.loggedIn){t.next=2;break}return t.abrupt("return",e.$router.replace("/"));case 2:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3400/users/login/",{method:"POST",headers:{email:this.email,password:this.password},credentials:"include"});case 3:r=e.sent,e.t0=r.status,e.next=202===e.t0||200===e.t0?7:404===e.t0?13:400===e.t0?15:17;break;case 7:return e.next=9,r.json();case 9:return n=e.sent,this.$store.commit("updateUser",{loggedIn:!0,loggedInUserId:n.id,loggedInUser:n.name}),this.$router.replace("/"),e.abrupt("break",17);case 13:return alert("E-mail or Password are incorrect. Please enter the correct ones and sign in again."),e.abrupt("break",17);case 15:return alert("Please fill all forms."),e.abrupt("break",17);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e["catch"](0),console.log(e.t1),e.abrupt("return",alert("An error has occured. Please try again."));case 23:case"end":return e.stop()}}),e,this,[[0,19]])})));function t(t){return e.apply(this,arguments)}return t}()}},X=W,Z=Object(p["a"])(X,K,Q,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full max-w-md mx-auto"},[r("form",{staticClass:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"name"}},[e._v(" Username ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",required:"",id:"name",placeholder:"Full Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"email"}},[e._v(" Email ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"email",required:"",id:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[e._v(" Password ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"password",required:"",id:"password",placeholder:"******************"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("p",{staticClass:"text-red-500 text-xs italic"},[e._v("Please choose a password.")])]),r("div",{staticClass:"flex items-center justify-between"},[r("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",attrs:{type:"submit"}},[e._v(" Register ")]),r("router-link",{staticClass:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800",attrs:{to:"/blogger/login/"}},[e._v(" Have an account, login. ")])],1)])])},re=[],ne={name:"Register",data:function(){return{name:"",email:"",password:""}},created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.state.loggedIn){t.next=2;break}return t.abrupt("return",e.$router.replace("/"));case 2:return t.next=4,fetch("http://localhost:3400/users/allowedToRegister/",{credentials:"include"});case 4:if(t.t0=t.sent.status,200===t.t0){t.next=7;break}return t.abrupt("return",e.$router.replace("/"));case 7:case"end":return t.stop()}}),t)})))()},methods:{register:function(e){var t=this;fetch("http://localhost:3400/users/register/",{method:"POST",headers:{name:this.name,email:this.email,password:this.password}}).then((function(e){return 409===e.status?alert("Your email is already registered"):500===e.status?alert("The server is experiencing a bit of motion, submit in a few seconds"):400===e.status?alert("You must fill all the forms"):void(201===e.status&&t.$router.replace("/blogger/login/"))}))}}},se=ne,ae=Object(p["a"])(se,te,re,!1,null,null,null),oe=ae.exports,le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" Logging out ")])},ie=[],ce={created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3400/users/loggedIn/",{credentials:"include"});case 2:if(t.t0=t.sent.status,200===t.t0){t.next=5;break}e.$store.commit("updateUser",{loggedIn:!1,loggedInUserId:"",loggedInUser:""});case 5:if(e.$store.state.loggedIn){t.next=7;break}return t.abrupt("return",e.$router.replace("/"));case 7:return t.next=9,fetch("http://localhost:3400/users/logout",{method:"POST",credentials:"include"});case 9:r=t.sent,202===r.status&&e.$store.commit("updateUser",{loggedIn:!1,loggedInUserId:"",loggedInUser:""}),e.$router.replace("/");case 12:case"end":return t.stop()}}),t)})))()}},ue=ce,de=Object(p["a"])(ue,le,ie,!1,null,null,null),pe=de.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full"},[r("div",{staticClass:"flex flex-wrap -mx-1 sm:-mx-1 md:-mx-1 lg:-mx-1 xl:-mx-1"},[r("div",{staticClass:"my-1 px-1 w-1/2 sm:my-1 sm:px-1 sm:w-1/2 md:my-1 md:px-1 md:w-1/2 lg:my-1 lg:px-1 lg:w-1/2 xl:my-1 xl:px-1 xl:w-1/2"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.edit(t)}}},[r("div",{staticClass:"mb-4 flex flex-row flex-grow"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2 mr-2",attrs:{for:"title"}},[e._v(" Title ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",required:"",id:"title",placeholder:"Title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),r("div",{staticClass:"mb-4 flex flex-row flex-grow"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2 mr-2",attrs:{for:"description"}},[e._v(" Description ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"resize-y shadow appearance-none border rounded w-full py-2 px-3 text-gray-700\n                     leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"description",placeholder:"Description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),r("div",{staticClass:"mb-4 flex flex-row flex-grow"},[e._m(0),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mdContent,expression:"mdContent"}],staticClass:"resize-y shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 h-auto\n                     leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"content",placeholder:"Content"},domProps:{value:e.mdContent},on:{input:[function(t){t.target.composing||(e.mdContent=t.target.value)},e.mdChanged]}})]),r("div",{staticClass:"flex flex-row"},[r("label",{staticClass:"md:w-2/3 block text-gray-500 font-bold"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.draft,expression:"draft"}],staticClass:"mr-2 leading-tight",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.draft)?e._i(e.draft,null)>-1:e.draft},on:{change:function(t){var r=e.draft,n=t.target,s=!!n.checked;if(Array.isArray(r)){var a=null,o=e._i(r,a);n.checked?o<0&&(e.draft=r.concat([a])):o>-1&&(e.draft=r.slice(0,o).concat(r.slice(o+1)))}else e.draft=s}}}),r("span",{staticClass:"text-sm"},[e._v(" Draft ")])]),r("label",{staticClass:"md:w-2/3 block text-gray-500 font-bold"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.hidden,expression:"hidden"}],staticClass:"mr-2 leading-tight",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hidden)?e._i(e.hidden,null)>-1:e.hidden},on:{change:function(t){var r=e.hidden,n=t.target,s=!!n.checked;if(Array.isArray(r)){var a=null,o=e._i(r,a);n.checked?o<0&&(e.hidden=r.concat([a])):o>-1&&(e.hidden=r.slice(0,o).concat(r.slice(o+1)))}else e.hidden=s}}}),r("span",{staticClass:"text-sm"},[e._v(" Hidden ")])])]),r("button",{staticClass:"flex-shrink-0 border-transparent border-4 text-teal-500 \n                hover:text-teal-800 text-sm py-1 px-2 rounded",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("Cancel")]),r("button",{staticClass:"flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 \n                hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",attrs:{type:"submit"}},[e._v(" "+e._s(e.id?"Update":e.draft?"Draft":"Post"))]),r("button",{staticClass:"flex-shrink-0 bg-red-600 hover:bg-teal-700 border-red-600 \n                hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.remove(t)}}},[e._v(" Delete")])])]),r("div",{staticClass:"my-1 px-1 w-1/2 sm:my-1 sm:px-1 sm:w-1/2 md:my-1 md:px-1 md:w-1/2 lg:my-1 lg:px-1 lg:w-1/2 xl:my-1 xl:px-1 xl:w-1/2\n                    bg-white"},[r("span",{staticClass:"h-full",domProps:{innerHTML:e._s(e.content)}})])])])},fe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"content"}},[e._v(" Content in MD ("),r("a",{staticClass:"hover:text-blue-700 mr-2",attrs:{href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet",target:"_blank"}},[e._v("MD Cheatsheet")]),e._v(") ")])}],he=(r("a4d3"),r("e01a"),r("339e")),ge=new he.Converter,be={data:function(){return{id:this.$route.params.id,title:"",description:"",mdContent:"",content:"",draft:!0,hidden:!1}},created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.state.loggedIn){t.next=2;break}return t.abrupt("return",e.$router.replace("/"));case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.id){t.next=22;break}return t.next=4,fetch("http://localhost:3400/posts/".concat(e.id),{credentials:"include"});case 4:if(r=t.sent,r.ok){t.next=7;break}return t.abrupt("return",e.$router.replace("/"));case 7:return t.next=9,r.json();case 9:if(n=t.sent,!n){t.next=21;break}if(e.title=n.title,e.content=n.content,e.description=n.description,e.draft=n.draft,e.hidden=n.hidden,n.author===e.$store.state.loggedInUserId){t.next=18;break}return t.abrupt("return",e.$router.replace("/"));case 18:e.mdContent=ge.makeMd(e.content),t.next=22;break;case 21:return t.abrupt("return",e.$router.replace("/"));case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",e.$router.replace("/"));case 28:case"end":return t.stop()}}),t,null,[[0,24]])})))()},methods:{edit:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(this.content),this.id){e.next=20;break}return e.prev=2,console.log("Sending"),e.next=6,fetch("http://localhost:3400/posts/",{method:"POST",headers:{author:this.$store.state.loggedInUserId,title:this.title,description:this.description,draft:this.draft,hidden:this.hidden,"Content-Type":"text/html",Accept:"text/html"},body:JSON.stringify(this.content),credentials:"include"});case 6:if(t=e.sent,200===t.status){e.next=9;break}return e.abrupt("return",alert("Failed to post"));case 9:return console.log("Posted"),e.next=12,t.json();case 12:this.id=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0);case 18:e.next=32;break;case 20:return e.prev=20,e.next=23,fetch("http://localhost:3400/posts/".concat(this.id),{method:"PUT",headers:{author:this.$store.state.loggedInUserId,title:this.title,description:this.description,draft:this.draft,hidden:this.hidden,"Content-Type":"text/html",Accept:"text/html"},body:this.content,credentials:"include"});case 23:if(r=e.sent,console.log("Here"),200===r.status){e.next=27;break}return e.abrupt("return",alert("Failed to post"));case 27:e.next=32;break;case 29:e.prev=29,e.t1=e["catch"](20),console.log(e.t1);case 32:this.$router.replace("/post/".concat(this.id));case 33:case"end":return e.stop()}}),e,this,[[2,15],[20,29]])})));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=14;break}return e.prev=1,e.next=4,fetch("http://localhost:3400/posts/".concat(this.id),{method:"DELETE",credentials:"include"});case 4:if(t=e.sent,t.ok){e.next=7;break}return e.abrupt("return",alert("There was a problem deleting your post"));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:e.next=15;break;case 14:return e.abrupt("return");case 15:this.$router.replace("/");case 16:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.replace("/")},mdChanged:function(){this.content=ge.makeHtml(this.mdContent)}}},ve=be,xe=Object(p["a"])(ve,me,fe,!1,null,null,null),we=xe.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block sm:flex flex-col"},[n("div",{staticClass:"flex mb-4 mt-4"},[n("div",{staticClass:"w-1/5 h-12"}),n("div",{staticClass:"w-3/5 h-12"},[e.user?n("div",{staticClass:"flex flex-row mx-auto mb-8"},[n("img",{staticClass:"w-32 h-32 border rounded-full",attrs:{src:r("4d66")}}),n("div",{staticClass:"flex flex-col ml-8"},[n("h1",{staticClass:"font-bold font-sans mb-1"},[e._v(e._s(this.user.name))]),n("span",{staticClass:"font-sans font-medium"},[e._v(e._s(this.user.bio))])])]):e._e(),n("span",{staticClass:"font-semibold font-sans text-2xl mb-4"},[e._v("Posts")]),e.posts?n("Articles",{attrs:{posts:e.posts,minimised:!0}}):e._e()],1),n("div",{staticClass:"w-1/5 h-12"})])])},ke=[],ye={name:"User",components:{Articles:H},data:function(){return{id:this.$route.params.id,user:void 0,posts:void 0}},created:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3400/users/".concat(e.id));case 3:if(r=t.sent,200===r.status){t.next=8;break}return t.abrupt("return",e.$router.replace("/"));case 8:return t.next=10,r.json();case 10:e.user=t.sent;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",e.$router.replace("/"));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},mounted:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3400/posts/user/".concat(e.id),{credentials:"include"});case 3:if(r=t.sent,200!==r.status){t.next=8;break}return t.next=7,r.json();case 7:e.posts=t.sent;case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",e.$router.replace("/"));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{directToView:function(){this.$router.replace("/post/".concat(post._id))},directToEdit:function(){this.$router.replace("/blogger/edit/".concat(post._id))}},computed:{profilePicture:function(){return"@/assets/svg/user.svg"}}},_e=ye,Ie=Object(p["a"])(_e,Ce,ke,!1,null,null,null),$e=Ie.exports;n["a"].use(y["a"]);var je=[{path:"/",name:"Home",component:q},{path:"/post/:id",name:"Post",component:G},{path:"/blogger/login/",name:"Login",component:ee},{path:"/blogger/register/",name:"Register",component:oe},{path:"/blogger/logout/",name:"Logout",component:pe},{path:"/blogger/create/",name:"CreateEdit",component:we},{path:"/blogger/edit/:id",name:"CreateEdit",component:we},{path:"/blogger/:id",name:"User",component:$e},{path:"*",redirect:"/"}],Pe=new y["a"]({routes:je,mode:"history"}),Oe=Pe,Ue=r("2f62"),Re=r("0e44");n["a"].use(Ue["a"]);var Ae=new Ue["a"].Store({state:{title:"Rami's",loggedIn:!1,loggedInUserId:"",loggedInUser:""},mutations:{updateUser:function(e,t){e.loggedIn=t.loggedIn,e.loggedInUserId=t.loggedInUserId,e.loggedInUser=t.loggedInUser}},plugins:[Object(Re["a"])({storage:window.sessionStorage})]});r("bc92");n["a"].config.productionTip=!1,new n["a"]({router:Oe,render:function(e){return e(k)},store:Ae}).$mount("#app")},7703:function(e,t,r){"use strict";var n=r("e6ad"),s=r.n(n);s.a},7935:function(e,t,r){e.exports=r.p+"img/logolg.17bff1a0.svg"},"8c75":function(e,t,r){"use strict";var n=r("c22c"),s=r.n(n);s.a},bc92:function(e,t,r){},c22c:function(e,t,r){},e6ad:function(e,t,r){}});
//# sourceMappingURL=app.8c4c8d8a.js.map